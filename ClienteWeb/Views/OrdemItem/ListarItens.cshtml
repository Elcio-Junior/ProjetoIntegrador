@model IEnumerable<Modelo.OrdemItem>


<div class="form-horizontal">
    <h2>Itens</h2>
    <hr />

    <div class="form-group">
        <label class="control-label col-md-2">Serviço</label>
        <div class="col-md-4">
            @Html.DropDownList("ServicoId", null, htmlAttributes: new { @class = "form-control" })
        </div>
    </div>
    
    <div class="form-group">
        <label class="control-label col-md-2">Quantidade</label>
        <div class="col-md-10">
            <input type="text" id="Quantidade" name="Quantidade" />
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-2">Valor Unitário</label>
        <div class="col-md-4">
            <input type="text" id="Valor" name="Valor" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <a href="#" onclick="SalvarItens();">Gravar Itens</a>
        </div>
    </div>
</div>
<input type="hidden" id="OrdemId" value="@ViewBag.OrdemId" />


<table class="table">
    <tr>
        <th>
            Código
        </th>
        <th>
            Serviço
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Quantidade)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Valor)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {

    var linha = "tr" + item.Id;

    <tr id="@linha">
        <td>
            @Html.DisplayFor(modelItem => item.ServicoP.Id)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ServicoP.Descricao)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Quantidade)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Valor)
        </td>
        <td>
            <a href="#" onclick="ExcluirItem(@item.Id);">Excluir</a>
        </td>
    </tr>
}

</table>
